<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="meta description">
	<title>Selena - Organic eCommerce Bootstrap 4 Template</title>

	<!--=== Favicon ===-->
	<link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon" />

	<!--=== All Plugins CSS ===-->
	<link href="assets/css/plugins.css" rel="stylesheet">
	<!--=== All Vendor CSS ===-->
	<link href="assets/css/vendor.css" rel="stylesheet">
	<!--=== Main Style CSS ===-->
	<link href="assets/css/style.css" rel="stylesheet">

	<!-- Modernizer JS -->
	<script src="assets/js/modernizr-2.8.3.min.js"></script>
	<script src="assets/js/vue.js"></script>

	<!--[if lt IE 9]>
    <script src="http://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

	<!-- Start Header Area -->
	<header class="header-area">
		<!-- header top start -->
		<div class="header-top">
			<div class="container">
				<div class="row align-items-center">
					<div class="col-lg-3">
						<div class="logo">
							<a href="index.html">
								<img src="assets/img/logo/logo.png" alt="Brand Logo">
							</a>
						</div>
					</div>
					<div class="col-lg-9">
						<div class="header-settings-area">
							<div class="header-top-left">
								<nav>
									<ul class="d-flex justify-content-center">
										<li>
											<div
												class="dropdown header-top-dropdown">
												<a class="dropdown-toggle"
													id="myaccount"
													data-toggle="dropdown"
													aria-haspopup="true"
													aria-expanded="false">
													my account
													<i
														class="fa fa-angle-down"></i>
												</a>
												<div class="dropdown-menu"
													aria-labelledby="myaccount">
													<a class="dropdown-item"
														href="my-account.html">my
														account</a>
													<a class="dropdown-item"
														href="login-register.html">
														login</a>
													<a class="dropdown-item"
														href="login-register.html">register</a>
												</div>
											</div>
										</li>

									</ul>
								</nav>
							</div>
							<div class="header-top-right">
								<div class="header-search-box">
									<form>
										<input type="text"
											placeholder="Search Here">
										<button><i
												class="ion-ios-search-strong"></i></button>
									</form>
								</div>
								<div class="mini-cart-wrap">
									<button><i class="ion-bag"></i>

									</button>
									<ul class="cart-list" id="hd">

										<li v-for="(item, index) in cartList"
											v-show="item.qty != 0">
											<div class="cart-img">
												<a href="#"
													@click="ShowProductDetail(item)"><img
														v-bind:src="item.src"
														alt=""></a>
											</div>
											<div class="cart-info">
												<h4><a href="#"
														@click="ShowProductDetail(item)">{{item.name}}</a>
												</h4>
												<span class="cart-qty">Qty:
													{{ item.qty
													}}</span>
												<span>${{item.price}}</span>
											</div>

										</li>

										<li class="mini-cart-price">
											<span class="subtotal">subtotal
												: </span>
											<span
												class="subtotal-price ml-auto">${{subtotal}}</span>
										</li>
										<li class="checkout-btn">
											<a href="cart.html">View
												Cart</a>
										</li>
										<li class="checkout-btn">
											<a
												href="checkout.html">checkout</a>
										</li>
									</ul>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- header top end -->

		<!-- main menu start -->
		<div class="main-menu-area sticky">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="main-menu">
							<div class="sticky-logo">
								<a href="index.html">
									<img src="assets/img/logo/logo_sticky.png"
										alt="brand logo">
								</a>
							</div>
							<!-- main menu navbar start -->

							<!-- main menu navbar end -->
						</div>
					</div>
					<div class="col-12 d-block d-lg-none">
						<div class="mobile-menu"></div>
					</div>
				</div>
			</div>
		</div>
		<!-- main menu end -->
	</header>
	<!-- end Header Area -->

	<!-- end Header Area -->

	<!-- main wrapper start -->
	<main>
		<!-- breadcrumb area start -->
		<div class="breadcrumb-area">
			<div class="container">
				<div class="row">
					<div class="col-12">
						<div class="breadcrumb-wrap text-center">
							<nav aria-label="breadcrumb">
								<h2>shop</h2>
								<ul class="breadcrumb">
									<li class="breadcrumb-item"><a
											href="index.html">Home</a></li>
									<li class="breadcrumb-item active"
										aria-current="page">cart</li>
								</ul>
							</nav>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- breadcrumb area end -->

		<!-- cart main wrapper start -->
		<div class="cart-main-wrapper pt-60 pb-60">
			<div class="container" id="app" v-cloak>
				<div class="row">
					<div class="col-lg-12">
						<!-- Cart Table Area -->
						<div class="cart-table table-responsive">
							<table class="table table-bordered">
								<thead>
									<tr>
										<th class="pro-thumbnail">Thumbnail</th>
										<th class="pro-title">Product</th>
										<th class="pro-price">Price</th>
										<th class="pro-quantity">Quantity</th>
										<th class="pro-subtotal">Total</th>
										<th class="pro-remove">Remove</th>
									</tr>
								</thead>
								<tbody>
									<tr v-for="(value,index) in cart_data "
										v-show="value.count!=0">
										<!-- v-show="value.count!=0" -->

										<td class="pro-thumbnail"
											v-show="value.count!=0"><a
												href="#"><img
													class="img-fluid"
													v-bind:src="value.imgUrl"
													alt="Product" /></a>
										</td>
										<td class="pro-title"
											v-show="value.count!=0"><a
												href="#">{{value.name}}</a>
										</td>
										<td class="pro-price"
											v-show="value.count!=0">
											<span>${{value.currentPrice}}</span>
										</td>
										<td class="pro-quantity"
											v-show="value.count!=0">
											<div class="pro-qty">
												<span class="dec qtybtn"
													@click="subCount(index)">-</span>
												<input v-model="value.count"
													type="text"
													placeholder="1"
													disabled>
												<span class="inc qtybtn"
													@click="addCount(index)">+</span>
											</div>
										</td>
										<td class="pro-subtotal"
											v-show="value.count!=0">
											<span>${{(value.currentPrice*value.count).toFixed(2)}}</span>
										</td>
										<td class="pro-remove"
											v-show="value.count!=0"><a
												@click="Remove(index)"
												href="javascript:void(0)"><i
													class="fa fa-trash-o"></i></a>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
						<!-- Cart Update Option -->
						<div
							class="cart-update-option d-block d-md-flex justify-content-between">
							<div class="apply-coupon-wrapper">
								<form action="#" method="post"
									class=" d-block d-md-flex">
									<input type="text"
										placeholder="Enter Your Coupon Code"
										required />
									<button class="btn btn__bg btn__sqr"
										@click="Apply_Coupon">Apply
										Coupon</button>
								</form>
							</div>

						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-5 ml-auto">
						<!-- Cart Calculation Area -->
						<div class="cart-calculator-wrapper">
							<div class="cart-calculate-items">
								<h3>Cart Totals</h3>
								<div class="table-responsive">
									<table class="table">
										<tr>
											<td>Sub Total</td>
											<td>${{sub_total.toFixed(2)}}
											</td>
										</tr>
										<tr>
											<td>Shipping</td>
											<td>${{Shipping.toFixed(2)}}
											</td>
										</tr>
										<tr class="total">
											<td>Total</td>
											<td class="total-amount">
												${{(Shipping+sub_total).toFixed(2)}}
											</td>
										</tr>
									</table>
								</div>
							</div>
							<a @click="checkOut" class="btn btn__bg d-block">Proceed To
								Checkout</a>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!-- cart main wrapper end -->
	</main>
	<!-- main wrapper end -->

	<!--== Start Footer Area Wrapper ==-->
	<footer class="footer-wrapper">

		<!--== Start Footer Area Wrapper ==-->
		<footer class="footer-wrapper" id="new_arrivals">

			<!-- footer main area start -->
			<div class="footer-main-area">
				<div class="container">
					<div class="footer-main-inner bdr-top pt-56 pb-60 pb-md-20 pb-sm-20">
						<div class="row">
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>contact info</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="location-wrap">
											<li>
												<h6 class="title">
													location:</h6>
												<p>110-114 W George St,
													City
													Centre,<br>Glasgow
													G2 1NF, USA</p>
											</li>
											<li>
												<h6 class="title">call
													us now:</h6>
												<p>+86-123456789<br>+86-123456789
												</p>
											</li>
											<li>
												<h6 class="title">email:
												</h6>
												<p><a href="https://mail.cqu.edu.cn/">20184348@cqu.edu.cn</a><br><a
														href="https://mail.cqu.edu.cn/">support@cqu.edu.cn</a>
												</p>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>new arrivals</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="category-list">
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(newArrivalList[0])">
															<img v-bind:src="newArrivalList[0].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[0])">{{newArrivalList[0].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{newArrivalList[0].price}}</span>

														</div>
													</div>
												</div>
											</li>
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(newArrivalList[1])">
															<img v-bind:src="newArrivalList[1].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[1])">{{newArrivalList[1].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{newArrivalList[1].price}}</span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(newArrivalList[2])">
															<img v-bind:src="newArrivalList[2].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[2])">{{newArrivalList[2].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{newArrivalList[2].price}}</span>
														</div>
													</div>
												</div>
											</li>

										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>top rated product</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="category-list">
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(topRatedList[0])">
															<img v-bind:src="topRatedList[0].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[0])">{{topRatedList[0].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{topRatedList[0].price}}</span>
															<span
																class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(topRatedList[1])">
															<img v-bind:src="topRatedList[1].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[1])">{{topRatedList[1].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{topRatedList[1].price}}</span>
															<span
																class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div
													class="single-item single-item__footer-category">
													<div
														class="product-thumb">
														<a href="#"
															@click="ShowProductDetail(topRatedList[2])">
															<img v-bind:src="topRatedList[2].src"
																alt="">
														</a>
													</div>
													<div
														class="product-description">
														<div
															class="product-name">
															<h4
																class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[2])">{{topRatedList[2].name}}</a>
															</h4>
														</div>
														<div
															class="price-box">
															<span
																class="regular-price">${{topRatedList[2].price}}</span>
															<span
																class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>newsletter</h4>
									</div>
									<div class="footer-widget-body">
										<div class="newsletter-desc">
											<p>Subscribe to the Kavir
												mailing list to receive
												updates on new arrivals,
												special
												offers and other
												discount information.
											</p>
											<form id="mc-form">
												<input type="email"
													id="mc-email"
													autocomplete="off"
													placeholder="Your email address">
												<button id="mc-submit"><i
														class="ion-paper-airplane"></i>subscribe</button>
											</form>
											<!-- mailchimp-alerts Start -->
											<div class="mailchimp-alerts">
												<div
													class="mailchimp-submitting">
												</div>
												<!-- mailchimp-submitting end -->
												<div
													class="mailchimp-success">
												</div>
												<!-- mailchimp-success end -->
												<div
													class="mailchimp-error">
												</div>
												<!-- mailchimp-error end -->
											</div>
											<!-- mailchimp-alerts end -->
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- footer main area end -->

			<!-- footer bottom area start -->
			<div class="footer-bootom bg-gray pt-20 pb-20">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<div class="copyright-text text-center text-md-left">
								<p>Copyright 2019 <a
										href="http://www.17sucai.com/">Selena</a>.
									All Rights Reserved</p>
							</div>
						</div>
						<div class="col-md-6">
							<div class="payment-method text-md-right text-center">
								<img src="assets/img/payment.png" alt="">
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- footer bottom area end -->
		</footer>

		<!-- Scroll to top start -->
		<div class="scroll-top not-visible">
			<i class="fa fa-angle-up"></i>
		</div>
		<!-- Scroll to Top End -->

		<!--=======================Javascript============================-->
		<!--=== All Vendor Js ===-->
		<script src="assets/js/vendor.js"></script>
		<!--=== All Plugins Js ===-->
		<script src="assets/js/plugins.js"></script>
		<!--=== Active Js ===-->
		<script src="assets/js/active.js"></script>

		<script src="assets/js/axios.js"></script>
		<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

		<script type="module">
			import {
				apply_Coupon,
				updata
			} from "./assets/js/cart.js"

			new Vue({
				el: '#app',
				data: {
					token: '',
					sub_total: 0,
					Shipping: 20,
					cart_data: [],
					status: ''
				},
				created() {
					var that = this;
					that.token = window.localStorage.getItem("token")
					axios({
						url: 'http://fanqin.vaiwan.com/cart/cart',
						method: 'post',
						params: {

						},
						headers: {
							'token': that.token
						}
					})
						.then((response) => {
							that.cart_data = response.data.list;
							console.log(that.cart_data);
							that.status = response.data.status;
							that.calculateTotal();
							hd.GetCart();
						})
						.catch((error) => {
							console.log(error);
						});

				},
				methods: {
					Apply_Coupon() {
						var that = this;
						console.log("Apply_Coupon login");
						apply_Coupon()
							.then((response) => {

							})
							.catch((error) => {
								console.log(error);
							});
					},
					calculateTotal() {
						var that = this;
						var total = 0;
						console.log(that.cart_data);
						for (let i = 0; i < that.cart_data.length; i++) {
							total = total + parseFloat(that.cart_data[i].currentPrice) * parseFloat(that.cart_data[i].count);
						}
						console.log(total);
						that.sub_total = total;
					},
					Update() {

					},
					Remove(index) {
						var that = this;
						console.log(that.cart_data[index].count);
						console.log(that.cart_data[index].count * (-1));
						let count_sub = that.cart_data[index].count * (-1);
						axios({
							url: 'http://fanqin.vaiwan.com/cart/addcart',
							method: 'post',
							params: {
								goodsId: that.cart_data[index].id,
								count: count_sub
							},
							headers: {
								'token': that.token
							}
						})
							.then((response) => {
								console.log(response.data);
								that.cart_data[index].count = 0;
								that.calculateTotal();
								hd.GetCart();
							})
							.catch((error) => {
								console.log(error);
							});

					},
					addCount(index) {
						var that = this;
						that.cart_data[index].count++;
						axios({
							url: 'http://fanqin.vaiwan.com/cart/addcart',
							method: 'post',
							params: {
								goodsId: that.cart_data[index].id,
								count: 1
							},
							headers: {
								'token': that.token
							}
						})
							.then((response) => {
								console.log(response.data);
								that.calculateTotal();
								hd.GetCart();
							})
							.catch((error) => {
								console.log(error);
							});

					},
					subCount(index) {
						var that = this;
						that.cart_data[index].count--;
						axios({
							url: 'http://fanqin.vaiwan.com/cart/addcart',
							method: 'post',
							params: {
								goodsId: that.cart_data[index].id,
								count: -1
							},
							headers: {
								'token': that.token
							}
						})
							.then((response) => {
								console.log(response.data);
								that.calculateTotal();
								hd.GetCart();
							})
							.catch((error) => {
								console.log(error);
							});

					},
					checkOut(){
						window.location.href="./checkout.html?subTotal="+this.sub_total;
					}
				}
			})
		</script>
		<script type="module">
			import {
				newArrivals,
				topRated
			} from "./assets/js/index.js"
			new Vue({
				el: '#new_arrivals',
				data: {
					newArrivalList: [{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					},
					{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					},
					{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					}
					],
					topRatedList: [{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					},
					{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					},
					{
						id: 4,
						rate: 3,
						name: 'goods1',
						price: '100.00',
						src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
						description: '真不错',
						stock: '2'
					}
					]
				},
				created() {
					this.NewArrivals()
					this.TopRated()
				},
				methods: {
					ShowProductDetail(item) {
						console.log("ShowProductDetail")
						let id = item.id
						let url = "product-details.html?goodsId=" + id; //此处拼接内容
						window.location.href = url;
					},
					NewArrivals() {
						console.log("NewArrivals")
						newArrivals()
							.then((response) => {
								this.newArrivalList = []
								for (let i = 0; i < 3; i++) {
									let l = {
										id: response.data.list[i].goodsId,
										rate: parseFloat(response.data.list[i].goodsRate),
										name: response.data.list[i].goodsName,
										price: response.data.list[i].goodsCurrentPrice,
										src: response.data.list[i].goodsImgUrl,
										description: response.data.list[i].goodsDescription,
										stock: response.data.list[i].goodsAmount
									}
									this.newArrivalList.push(l)
								}
							})
							.catch((error) => {
								console.log(error);
							});
					},
					TopRated() {
						console.log("TopRated")
						topRated()
							.then((response) => {
								this.topRatedList = []
								for (let i = 0; i < 3; i++) {
									let l = {
										id: response.data.list[i].goodsId,
										rate: parseFloat(response.data.list[i].goodsRate),
										name: response.data.list[i].goodsName,
										price: response.data.list[i].goodsCurrentPrice,
										src: response.data.list[i].goodsImgUrl,
										description: response.data.list[i].goodsDescription,
										stock: response.data.list[i].goodsAmount
									}
									this.topRatedList.push(l)
								}
							})
							.catch((error) => {
								console.log(error);
							});
					},


					AddToWishList() {
						console.log("AddToWishList")
						let token = window.localStorage.getItem("token")
						axios({
							url: 'http://fanqin.vaiwan.com/shop/wish',
							method: 'post',
							params: {
								'id': this.goodsId
							},
							headers: {
								'token': token
							}
						})
							.then((response) => {

							})
							.catch((error) => {
								console.log(error);
							});
					},
					AddToCart() {
						console.log("AddToCart")
						let token = window.localStorage.getItem("token")
						axios({
							url: 'http://fanqin.vaiwan.com/cart/update',
							method: 'post',
							params: {
								'goodsId': this.goodsId
							},
							headers: {
								'token': token
							}
						})
							.then((response) => {
								hd.GetCart()
								swal("添加成功")
							})
							.catch((error) => {
								console.log(error);
							});
					},
					AddToCompareList() {
						console.log("AddToCompareList")
						let list = window.sessionStorage.getItem("compareList")
						if (list == null) {
							let compareList = new Array()
							compareList.push(this.goodsId)
							window.sessionStorage.setItem("compareList", compareList.toString())
						} else if (!list.includes(this.goodsId)) {

							let compareList = list.split(",")
							compareList.push(this.goodsId)
							window.sessionStorage.setItem("compareList", compareList.toString())
						}
						console.log(window.sessionStorage.getItem("compareList"))
					}

				}

			})
		</script>
		<script>
			var hd = new Vue({
				el: '#hd',
				data: {
					cartList: [{
						id: 4,
						name: '真好吃',
						qty: 6,
						price: '6',
						src: 'https://img2.baidu.com/it/u=2854065357,1526765253&fm=26&fmt=auto&gp=0.jpg'
					},
					{
						id: 4,
						name: '真好吃',
						qty: 6,
						price: '6',
						src: 'https://img2.baidu.com/it/u=2854065357,1526765253&fm=26&fmt=auto&gp=0.jpg'
					}
					],
					subtotal: 6,
					amount: 1
				},
				created() {
					this.GetCart()
				},

				methods: {
					GetCart() {
						let token = window.localStorage.getItem("token")
						console.log("GetCart")
						axios({
							url: 'http://fanqin.vaiwan.com/cart/cart',
							method: 'post',

							headers: {
								'token': token
							}
						})
							.then((response) => {
								this.cartList = []
								for (let i = 0; i < response.data.list.length; i++) {
									let l = {
										id: response.data.list[i].id,
										name: response.data.list[i].name,
										qty: parseInt(response.data.list[i].count),
										price: response.data.list[i].currentPrice,
										src: response.data.list[i].imgUrl
									}
									this.cartList.push(l)
								}

								this.subtotal = 0
								this.amount = 0
								for (let i = 0; i < this.cartList.length; i++) {
									this.subtotal += Math.floor(parseFloat(this.cartList[i].price) * this.cartList[i]
										.qty * 100) / 100
									this.amount += parseInt(this.cartList[i].amount)
								}
							})
							.catch((error) => {
								console.log(error);
							});
					},
					ShowProductDetail(item) {
						console.log("ShowProductDetail")
						let id = item.id
						let url = "product-details.html?goodsId=" + id; //此处拼接内容
						window.location.href = url;
					},
					AddToWishList() {
						console.log("AddToWishList")
						let token = window.localStorage.getItem("token")
						axios({
							url: 'http://fanqin.vaiwan.com/shop/wish',
							method: 'post',
							params: {
								'id': this.goodsId
							},
							headers: {
								'token': token
							}
						})
							.then((response) => {

							})
							.catch((error) => {
								console.log(error);
							});
					},
					AddToCart() {
						console.log("AddToCart")
						let token = window.localStorage.getItem("token")
						axios({
							url: 'http://fanqin.vaiwan.com/cart/update',
							method: 'post',
							params: {
								'goodsId': this.goodsId
							},
							headers: {
								'token': token
							}
						})
							.then((response) => {
								hd.GetCart()
								swal("添加成功")
							})
							.catch((error) => {
								console.log(error);
							});
					},
					AddToCompareList() {
						console.log("AddToCompareList")
						let list = window.sessionStorage.getItem("compareList")
						if (list == null) {
							let compareList = new Array()
							compareList.push(this.goodsId)
							window.sessionStorage.setItem("compareList", compareList.toString())
						} else if (!list.includes(this.goodsId)) {

							let compareList = list.split(",")
							compareList.push(this.goodsId)
							window.sessionStorage.setItem("compareList", compareList.toString())
						}
						console.log(window.sessionStorage.getItem("compareList"))
					}

				}

			})
		</script>


</body>

</html>