<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">
    <title>Selena - Organic eCommerce Bootstrap 4 Template</title>

    <!--=== Favicon ===-->
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon" />

    <!--=== All Plugins CSS ===-->
    <link href="assets/css/plugins.css" rel="stylesheet">
    <!--=== All Vendor CSS ===-->
    <link href="assets/css/vendor.css" rel="stylesheet">
    <!--=== Main Style CSS ===-->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- Modernizer JS -->
    <script src="assets/js/modernizr-2.8.3.min.js"></script>
    <script src="assets/js/vue.js"></script>

    <!--[if lt IE 9]>
    <script src="http://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

    <!-- Start Header Area -->
    <header class="header-area">
        <!-- header top start -->
        <div class="header-top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3">
                        <div class="logo">
                            <a href="index.html">
                                <img src="assets/img/logo/logo.png" alt="Brand Logo">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div class="header-settings-area">
                            <div class="header-top-left">
                                <nav>
                                    <ul class="d-flex
                                            justify-content-center">
                                        <li>
                                            <div class="dropdown
                                                    header-top-dropdown">
                                                <a class="dropdown-toggle" id="myaccount" data-toggle="dropdown"
                                                    aria-haspopup="true" aria-expanded="false">
                                                    my account
                                                    <i class="fa
                                                            fa-angle-down"></i>
                                                </a>
                                                <div class="dropdown-menu" aria-labelledby="myaccount">
                                                    <a class="dropdown-item" href="my-account.html">my
                                                        account</a>
                                                    <a class="dropdown-item" href="login-register.html">
                                                        login</a>
                                                    <a class="dropdown-item" href="login-register.html">register</a>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="dropdown
                                                    header-top-dropdown">
                                                <span>Language:</span>
                                                <a class="dropdown-toggle" id="language" data-toggle="dropdown"
                                                    aria-haspopup="true" aria-expanded="false">
                                                    English
                                                    <i class="fa
                                                            fa-angle-down"></i>
                                                </a>
                                                <div class="dropdown-menu" aria-labelledby="language">
                                                    <a class="dropdown-item" href="#">English</a>
                                                    <a class="dropdown-item" href="#">Français</a>
                                                    <a class="dropdown-item" href="#">Germany</a>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </nav>
                            </div>
                            <div class="header-top-right">
                                <div class="header-search-box">
                                    <form>
                                        <input type="text" placeholder="Search Here">
                                        <button><i class="ion-ios-search-strong"></i></button>
                                    </form>
                                </div>
                                <div class="mini-cart-wrap">
                                    <button><i class="ion-bag"></i>
                                        <span class="notification">2</span>
                                    </button>
                                    <ul class="cart-list">
                                        <li>
                                            <div class="cart-img">
                                                <a href="product-details.html"><img src="assets/img/cart/cart-1.jpg"
                                                        alt=""></a>
                                            </div>
                                            <div class="cart-info">
                                                <h4><a href="product-details.html">simple
                                                        product</a></h4>
                                                <span class="cart-qty">Qty:
                                                    1</span>
                                                <span>$60.00</span>
                                            </div>
                                            <div class="del-icon">
                                                <i class="fa fa-times"></i>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="cart-img">
                                                <a href="product-details.html"><img src="assets/img/cart/cart-2.jpg"
                                                        alt=""></a>
                                            </div>
                                            <div class="cart-info">
                                                <h4><a href="product-details.html">virtual
                                                        product</a></h4>
                                                <span class="cart-qty">Qty:
                                                    2</span>
                                                <span>$100.00</span>
                                            </div>
                                            <div class="del-icon">
                                                <i class="fa fa-times"></i>
                                            </div>
                                        </li>
                                        <li class="mini-cart-price">
                                            <span class="subtotal">subtotal
                                                : </span>
                                            <span class="subtotal-price
                                                    ml-auto">$110.00</span>
                                        </li>
                                        <li class="checkout-btn">
                                            <a href="#">View Cart</a>
                                        </li>
                                        <li class="checkout-btn">
                                            <a href="#">checkout</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- header top end -->

       
        <!-- main menu end -->

    </header>
    <!-- end Header Area -->

    <!-- main wrapper start -->
    <main>
        <!-- breadcrumb area start -->
        <div class="breadcrumb-area">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="breadcrumb-wrap text-center">
                            <nav aria-label="breadcrumb">
                                <h2>shop</h2>
                                <ul class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">login-register</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- breadcrumb area end -->

        <!-- login register wrapper start -->
        <div class="login-register-wrapper pt-60 pb-60" id="test">
            <div class="container">
                <div class="member-area-from-wrap">
                    <div class="row">
                        <!-- Login Content Start -->
                        <div class="col-lg-6">
                            <div class="login-reg-form-wrap pr-lg-50">
                                <h2>Sign In</h2>
                                <form method="post">
                                    <div class="single-input-item">
                                        <input v-model="email" type="email" placeholder="请输入你的邮箱..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <input v-model="pwd" type="password" placeholder="请输入密码..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <button type="button" @click="login" class="btn
                                                btn__bg btn__sqr">Login</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                        <!-- Login Content End -->

                        <!-- Register Content Start -->
                        <div class="col-lg-6">
                            <div class="login-reg-form-wrap mt-md-60 mt-sm-60">
                                <h2>Singup Form</h2>

                                <form method="post">
                                    <div class="single-input-item">
                                        <input v-model="r_name" type="name" placeholder="请输入你的用户名..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <input v-model="r_email" type="email" placeholder="请输入你的邮箱..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <input v-model="r_pwd1" type="password" placeholder="请输入密码..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <input v-model="r_pwd2" type="password" placeholder="请再次输入密码..." required />
                                    </div>
                                    <div class="single-input-item">
                                        <div>选择头像</div>
                                        <input  class="file" type="file" accept="image/png,image/gif,image/jpeg" @change="uploadFile" multiple="multiple" />
                                    </div>
                                    <div class="single-input-item">
                                        <button type="button" @click="register" class="btn
                                                btn__bg btn__sqr">Register</button>
                                    </div>

                                </form>

                            </div>
                        </div>
                        <!-- Register Content End -->
                    </div>
                </div>
            </div>
        </div>
        <!-- login register wrapper end -->
    </main>
    <!-- main wrapper end -->

    <!--== Start Footer Area Wrapper ==-->
    <footer class="footer-wrapper">

		<!--== Start Footer Area Wrapper ==-->
		<footer class="footer-wrapper" id="new_arrivals">

			<!-- footer main area start -->
			<div class="footer-main-area">
				<div class="container">
					<div class="footer-main-inner bdr-top pt-56 pb-60 pb-md-20 pb-sm-20">
						<div class="row">
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>contact info</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="location-wrap">
											<li>
												<h6 class="title">location:</h6>
												<p>110-114 W George St, City Centre,<br>Glasgow G2 1NF, USA</p>
											</li>
											<li>
												<h6 class="title">call us now:</h6>
												<p>+01-23456789<br>+01-23456789</p>
											</li>
											<li>
												<h6 class="title">email:</h6>
												<p><a href="#">info@yourdomain.com</a><br><a
														href="#">support@yourdomain.com</a>
												</p>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>new arrivals</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="category-list">
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(newArrivalList[0])">
															<img v-bind:src="newArrivalList[0].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[0])">{{newArrivalList[0].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{newArrivalList[0].price}}</span>

														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(newArrivalList[1])">
															<img v-bind:src="newArrivalList[1].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[1])">{{newArrivalList[1].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{newArrivalList[1].price}}</span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(newArrivalList[2])">
															<img v-bind:src="newArrivalList[2].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(newArrivalList[2])">{{newArrivalList[2].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{newArrivalList[2].price}}</span>
														</div>
													</div>
												</div>
											</li>

										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>top rated product</h4>
									</div>
									<div class="footer-widget-body">
										<ul class="category-list">
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(topRatedList[0])">
															<img v-bind:src="topRatedList[0].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[0])">{{topRatedList[0].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{topRatedList[0].price}}</span>
															<span class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(topRatedList[1])">
															<img v-bind:src="topRatedList[1].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[1])">{{topRatedList[1].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{topRatedList[1].price}}</span>
															<span class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
											<li>
												<div class="single-item single-item__footer-category">
													<div class="product-thumb">
														<a href="#" @click="ShowProductDetail(topRatedList[2])">
															<img v-bind:src="topRatedList[2].src" alt="">
														</a>
													</div>
													<div class="product-description">
														<div class="product-name">
															<h4 class="h5">
																<a href="#"
																	@click="ShowProductDetail(topRatedList[2])">{{topRatedList[2].name}}</a>
															</h4>
														</div>
														<div class="price-box">
															<span
																class="regular-price">${{topRatedList[2].price}}</span>
															<span class="old-price"><del></del></span>
														</div>
													</div>
												</div>
											</li>
										</ul>
									</div>
								</div>
							</div>
							<div class="col-lg-3 col-md-6">
								<div class="footer-widget">
									<div class="footer-widget-title">
										<h4>newsletter</h4>
									</div>
									<div class="footer-widget-body">
										<div class="newsletter-desc">
											<p>Subscribe to the Kavir mailing list to receive updates on new arrivals,
												special
												offers and other discount information.</p>
											<form id="mc-form">
												<input type="email" id="mc-email" autocomplete="off"
													placeholder="Your email address">
												<button id="mc-submit"><i
														class="ion-paper-airplane"></i>subscribe</button>
											</form>
											<!-- mailchimp-alerts Start -->
											<div class="mailchimp-alerts">
												<div class="mailchimp-submitting"></div>
												<!-- mailchimp-submitting end -->
												<div class="mailchimp-success"></div><!-- mailchimp-success end -->
												<div class="mailchimp-error"></div><!-- mailchimp-error end -->
											</div>
											<!-- mailchimp-alerts end -->
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- footer main area end -->

			<!-- footer bottom area start -->
			<div class="footer-bootom bg-gray pt-20 pb-20">
				<div class="container">
					<div class="row">
						<div class="col-md-6">
							<div class="copyright-text text-center text-md-left">
								<p>Copyright 2019 <a href="http://www.17sucai.com/">Selena</a>. All Rights Reserved</p>
							</div>
						</div>
						<div class="col-md-6">
							<div class="payment-method text-md-right text-center">
								<img src="assets/img/payment.png" alt="">
							</div>
						</div>
					</div>
				</div>
			</div>
			<!-- footer bottom area end -->
		</footer>
		<!--== End Footer Area Wrapper ==-->
    <!-- Scroll to top start -->
    <div class="scroll-top not-visible">
        <i class="fa fa-angle-up"></i>
    </div>
    <!-- Scroll to Top End -->
    <!--=======================Javascript============================-->
    <!--=== All Vendor Js ===-->
    <script src="assets/js/vendor.js"></script>
    <!--=== All Plugins Js ===-->
    <script src="assets/js/plugins.js"></script>
    <!--=== Active Js ===-->
    <script src="assets/js/active.js"></script>

    <script src="assets/js/axios.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <!-- https://sweetalert.js.org/guides/ -->
    <script>
        new Vue({
            el: '#test',
            data: {
                lmodel: '',
                message: 'Hello Vue!',
                email: '',
                pwd: '',

                r_email: '',
                r_pwd1: '',
                r_pwd2: '',
                r_name: '',

                file_img: []
            },
            methods: {
                login() {
                    var that = this;
                    console.log(that.email);
                    console.log(that.pwd);
                    axios({
                        url: 'http://fanqin.vaiwan.com/login/login',
                        method: 'post',
                        params: {
                            'email': that.email,
                            'pwd': that.pwd
                        }
                    }).then(res => {
                        console.log(res.data);
                        // sessionStorage
                        var json = eval('(' + res.data + ')');
                        console.log(json);
                        window.localStorage.setItem("token", json.token);
                        window.localStorage.setItem("userid", json.userid);
                        swal("登陆成功 亲 即将跳转到首页...");
                    });
                    // to index.html
                    window.setTimeout(show_index, 2000);
                    function show_index() {
                        document.location = "./index.html";
                    }
                },
                register() {
                    var that = this;
                    if (that.r_pwd1 != that.r_pwd2) {
                        swal("两次密码不一样哦 亲");
                    } else {
                        let param = new FormData()  // 创建form对象
                        param.append('email', that.r_email)  // 通过append向form对象添加数据
                        param.append('pwd', that.r_pwd1) // 添加form表单中其他数据
                        param.append('uploadFile', that.file_img) // 添加form表单中其他数据
                        console.log(param.get('uploadFile')) // FormData私有类对象，访问不到，可以通过get判断值是否传进去
                        let config = {
                            headers: { 'Content-Type': 'multipart/form-data' }
                        }
                        // 添加请求头
                        axios.post('http://fanqin.vaiwan.com/login/register', param, config)
                            .then(res => {
                                var json = eval('(' + res.data + ')');
                                console.log(json);
                                if (json.code == '100') {
                                    swal({
                                        title: "注册成功 亲!",
                                        text: "将自动为你登陆...",
                                        icon: "success",
                                    });
                                    that.email = that.r_email;
                                    that.pwd = that.r_pwd1;
                                    that.login();
                                } else {
                                    swal("出错啦！");
                                }
                            })
                    }
                },
                logout() {
                    var that = this;

                    axios({
                        url: 'http://fanqin.vaiwan.com/login/logout',
                        method: 'post',

                        params: {
                            'email': that.email,
                            'pwd': that.pwd
                        }
                    }).then(res => {
                        console.log(res.data);
                        if (res.data.code == '100') {
                            swal("登出成功 亲 再见");
                        } else {
                            swal("登出失败 即将强制登出...");
                        }
                        // to index.html
                        window.localStorage.setItem("token", "");
                        window.localStorage.setItem("userid", "");
                        window.setTimeout(show_index, 2000);
                        function show_index() {
                            document.location = "/shop-html/index.html";
                        }
                    })
                },
                uploadFile(e) {   // 上传照片
                    var that = this;
                    let file = e.target.files[0]
                    that.file_img = file;
                }
            }
        })
    </script>
    		<script type="module">
                import {
                    newArrivals,
                    topRated
                } from "./assets/js/index.js"
                new Vue({
                    el: '#new_arrivals',
                    data: {
                        newArrivalList: [{
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            },
                            {
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            },
                            {
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            }
                        ],
                        topRatedList: [{
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            },
                            {
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            },
                            {
                                id: 4,
                                rate: 3,
                                name: 'goods1',
                                price: '100.00',
                                src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                                description: '真不错',
                                stock: '2'
                            }
                        ]
                    },
                    created() {
                        this.NewArrivals()
                        this.TopRated()
                    },
                    methods: {
                        ShowProductDetail(item) {
                            console.log("ShowProductDetail")
                            let id = item.id
                            let url = "product-details.html?goodsId=" + id; //此处拼接内容
                            window.location.href = url;
                        },
                        NewArrivals() {
                            console.log("NewArrivals")
                            newArrivals()
                                .then((response) => {
                                    this.newArrivalList = []
                                    for (let i = 0; i < 3; i++) {
                                        let l = {
                                            id: response.data.list[i].goodsId,
                                            rate: parseFloat(response.data.list[i].goodsRate),
                                            name: response.data.list[i].goodsName,
                                            price: response.data.list[i].goodsCurrentPrice,
                                            src: response.data.list[i].goodsImgUrl,
                                            description: response.data.list[i].goodsDescription,
                                            stock: response.data.list[i].goodsAmount
                                        }
                                        this.newArrivalList.push(l)
                                    }
                                })
                                .catch((error) => {
                                    console.log(error);
                                });
                        },
                        TopRated() {
                            console.log("TopRated")
                            topRated()
                                .then((response) => {
                                    this.topRatedList = []
                                    for (let i = 0; i < 3; i++) {
                                        let l = {
                                            id: response.data.list[i].goodsId,
                                            rate: parseFloat(response.data.list[i].goodsRate),
                                            name: response.data.list[i].goodsName,
                                            price: response.data.list[i].goodsCurrentPrice,
                                            src: response.data.list[i].goodsImgUrl,
                                            description: response.data.list[i].goodsDescription,
                                            stock: response.data.list[i].goodsAmount
                                        }
                                        this.topRatedList.push(l)
                                    }
                                })
                                .catch((error) => {
                                    console.log(error);
                                });
                        },
    
    
                        AddToWishList() {
                            console.log("AddToWishList")
                            let token = window.localStorage.getItem("token")
                            axios({
                                    url: 'http://fanqin.vaiwan.com/shop/wish',
                                    method: 'post',
                                    params: {
                                        'id': this.goodsId
                                    },
                                    headers: {
                                        'token': token
                                    }
                                })
                                .then((response) => {
    
                                })
                                .catch((error) => {
                                    console.log(error);
                                });
                        },
                        AddToCart() {
                            console.log("AddToCart")
                            let token = window.localStorage.getItem("token")
                            axios({
                                    url: 'http://fanqin.vaiwan.com/cart/update',
                                    method: 'post',
                                    params: {
                                        'goodsId': this.goodsId
                                    },
                                    headers: {
                                        'token': token
                                    }
                                })
                                .then((response) => {
                                    hd.GetCart()
                                    swal("添加成功")
                                })
                                .catch((error) => {
                                    console.log(error);
                                });
                        },
                        AddToCompareList() {
                            console.log("AddToCompareList")
                            let list = window.sessionStorage.getItem("compareList")
                            if (list == null) {
                                let compareList = new Array()
                                compareList.push(this.goodsId)
                                window.sessionStorage.setItem("compareList", compareList.toString())
                            } else if (!list.includes(this.goodsId)) {
    
                                let compareList = list.split(",")
                                compareList.push(this.goodsId)
                                window.sessionStorage.setItem("compareList", compareList.toString())
                            }
                            console.log(window.sessionStorage.getItem("compareList"))
                        }
    
                    }
    
                })
            </script>
    
    
</body>

</html>