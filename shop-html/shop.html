<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="meta description">
    <title>Selena - Organic eCommerce Bootstrap 4 Template</title>

    <!--=== Favicon ===-->
    <link rel="shortcut icon" href="assets/img/favicon.ico" type="image/x-icon" />

    <!--=== All Plugins CSS ===-->
    <link href="assets/css/plugins.css" rel="stylesheet">
    <!--=== All Vendor CSS ===-->
    <link href="assets/css/vendor.css" rel="stylesheet">
    <!--=== Main Style CSS ===-->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- Modernizer JS -->
    <script src="assets/js/modernizr-2.8.3.min.js"></script>

    <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-3.5.1.min.js"></script>
    <script src="assets/js/jquery.params.js"></script>

    <!-- Modernizer JS -->
    <script src="assets/js/vue.js"></script>

    <!--[if lt IE 9]>
    <script src="http://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="http://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body >

    <!-- Start Header Area -->
    <header class="header-area">
        <!-- header top start -->
        <div class="header-top">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-3">
                        <div class="logo">
                            <a href="index.html">
                                <img src="assets/img/logo/logo.png" alt="Brand Logo">
                            </a>
                        </div>
                    </div>
                    <div class="col-lg-9">
                        <div class="header-settings-area">
                            <div class="header-top-left">
                                <nav>
                                    <ul class="d-flex justify-content-center">
                                        <li>
                                            <div class="dropdown header-top-dropdown">
                                                <a class="dropdown-toggle" id="myaccount" data-toggle="dropdown"
                                                    aria-haspopup="true" aria-expanded="false">
                                                    my account
                                                    <i class="fa fa-angle-down"></i>
                                                </a>
                                                <div class="dropdown-menu" aria-labelledby="myaccount">
                                                    <a class="dropdown-item" href="my-account.html">my account</a>
                                                    <a class="dropdown-item" href="login-register.html"> login</a>
                                                    <a class="dropdown-item" href="login-register.html">register</a>
                                                </div>
                                            </div>
                                        </li>

                                    </ul>
                                </nav>
                            </div>
                            <div class="header-top-right">
                                <div class="header-search-box" id=hsb>
                                    
                                        <input type="text" placeholder="Search Here" v-model="keyword">
                                        <a href="javascript:void(0);" @click="Search">搜索</a>
                                    
                                </div>
                                <div class="mini-cart-wrap">
                                    <button><i class="ion-bag"></i>

                                    </button>
                                    <ul class="cart-list" id="hd">

                                        <li v-for="(item, index) in cartList" v-show="item.qty != 0">
                                            <div class="cart-img">
                                                <a href="#" @click="ShowProductDetail(item)"><img v-bind:src="item.src"
                                                        alt=""></a>
                                            </div>
                                            <div class="cart-info">
                                                <h4><a href="#" @click="ShowProductDetail(item)">{{item.name}}</a></h4>
                                                <span class="cart-qty">Qty: {{ item.qty }}</span>
                                                <span>${{item.price}}</span>
                                            </div>

                                        </li>

                                        <li class="mini-cart-price">
                                            <span class="subtotal">subtotal : </span>
                                            <span class="subtotal-price ml-auto">${{subtotal}}</span>
                                        </li>
                                        <li class="checkout-btn">
                                            <a href="cart.html">View Cart</a>
                                        </li>
                                        <li class="checkout-btn">
                                            <a href="checkout.html">checkout</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- header top end -->



    </header>
    <!-- end Header Area -->

    <!-- main wrapper start -->
    <main >
        <!-- breadcrumb area start -->
        <div class="breadcrumb-area" >
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div class="breadcrumb-wrap text-center">
                            <nav aria-label="breadcrumb">
                                <h2>shop</h2>
                                <ul class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                                    <li class="breadcrumb-item active" aria-current="page">shop</li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- breadcrumb area end -->

        <!-- page main wrapper start -->
        <div class="shop-main-wrapper pt-60 pb-60" id="one">
            <div class="container">
                <div class="row">
                    <!-- sidebar area start -->

                    <!-- sidebar area end -->
                    <!-- shop main wrapper start -->
                    <div class="col-lg-9 order-1 order-lg-2" style="margin: auto;">
                        <div class="shop-product-wrapper" >
                            <!-- product item list start -->
                            <div class="shop-product-wrap grid-view row">
                                <div class="col-lg-4 col-md-4 col-sm-6" v-for="item in goodsList">
                                    <!-- product grid item start -->
                                    <div class="product-item mb-50">
                                        <div class="product-thumb">
                                            <a href="javascript:void(0);" @click="ShowProductDetail(item)">
                                                <img v-bind:src="item.src" alt="">
                                            </a>
                                            <div class="quick-view-link">
                                                <a href="javascript:void(0)" data-toggle="modal" data-target="#quick_view"> <span
                                                        data-toggle="tooltip" title="Quick view" @click="ShowQuickView(item)"><i
                                                            class="ion-ios-eye-outline"></i></span> </a>
                                            </div>
                                        </div>
                                        <div class="product-content text-center">
                                            <div class="ratings">
                                                <span><i class="ion-android-star"
                                                    v-for="count in item.rate"></i></span>
                                                
                                            </div>
                                            <div class="product-name">
                                                <h4 class="h5">
                                                    <a href="javascript:void(0);" @click="ShowProductDetail(item)">{{item.name}}</a>
                                                </h4>
                                            </div>
                                            <div class="price-box">
                                                <span class="regular-price">${{item.price}}</span>
                                                
                                            </div>
                                            <div class="product-action-link">
                                                <a href="javascript:void(0);" data-toggle="tooltip" title="Wishlist"><i
                                                        class="ion-android-favorite-outline" @click="AddToWishList(item)"></i></a>
                                                <a href="javascript:void(0);" data-toggle="tooltip" title="Add to cart"><i
                                                        class="ion-bag" @click="AddToCart(item)"></i></a>
                                                <a href="javascript:void(0);" data-toggle="tooltip" title="Compare"><i
                                                        class="ion-ios-shuffle" @click="AddToCompareList(item)"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- product grid item end -->

                                </div>
                                
                                
                                
                                
                            </div>
                            <!-- product item list end -->

                            <!-- start pagination area -->
                            <div class="paginatoin-area text-center mt-30">
                                <input type="text" placeholder="输入页数" v-model="page">
                                        <a href="javascript:void(0);" @click="toPage">跳转</a>
                            </div>
                            <!-- end pagination area -->
                        </div>
                    </div>
                    <!-- shop main wrapper end -->
                </div>
            </div>
        </div>
        <!-- page main wrapper end -->
    </main>
    <!-- main wrapper end -->

    <!-- Quick view modal start -->
    <div class="modal" id="quick_view">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <!-- 关闭弹窗按钮 -->
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- product details inner end -->
                    <div class="product-details-inner">
                        <div class="row">
                            <div class="col-lg-5 col-md-6">
                                <div class="product-large-slider mb-20 slider-arrow-style slider-arrow-style__style-2">
                                    <!-- 用于展示所点击的图片 -->
                                    <div class="pro-large-img">
                                        <img v-bind:src="quick_view_item.src" alt="" />
                                    </div>
                                </div>

                            </div>
                            <div class="col-lg-7 col-md-6">
                                <div class="product-details-des">
                                    <div class="product-content-list">
                                        <div class="ratings">
                                            <!-- 星级 -->
                                            <span><i class="ion-android-star"
                                                    v-for="count in quick_view_item.rate"></i></span>

                                        </div>
                                        <div class="product-name">
                                            <h4><a href="#"
                                                    @click="ShowProductDetail(quick_view_item)">{{quick_view_item.name}}</a>
                                            </h4>
                                        </div>
                                        <div class="price-box">
                                            <span class="regular-price">${{quick_view_item.price}}</span>

                                        </div>
                                        <!-- 商品评论 -->
                                        <p>{{quick_view_item.description}}</p>
                                        <div class="action-link mb-20">

                                            <!-- 添加到比较列表 -->
                                            <a href="javascript:void(0);" data-toggle="tooltip" title="Compare"
                                                @click="AddToCompareList(quick_view_item)"><i
                                                    class="ion-ios-shuffle"></i></a>
                                            <a href="javascript:void(0);" data-toggle="tooltip" title="Wishlist"
                                                @click="AddToWishList(quick_view_item)"><i
                                                    class="ion-android-favorite-outline"></i></a>
                                            <a href="javascript:void(0);" data-toggle="tooltip" title="Add to cart"
                                                data-dismiss="modal" @click="AddToCart(quick_view_item)"><i
                                                    class="ion-bag"></i></a>


                                        </div>

                                        <!-- 商品库存 -->
                                        <div class="availability mb-20">
                                            <h5>Availability:</h5>
                                            <span>{{ quick_view_item.stock }}</span>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- product details inner end -->
                </div>
            </div>
        </div>
    </div>
    <!-- Quick view modal end -->

    <!--== Start Footer Area Wrapper ==-->
    <footer class="footer-wrapper" id="new_arrivals">

        <!-- footer main area start -->
        <div class="footer-main-area">
            <div class="container">
                <div class="footer-main-inner bdr-top pt-56 pb-60 pb-md-20 pb-sm-20">
                    <div class="row">
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <div class="footer-widget-title">
                                    <h4>contact info</h4>
                                </div>
                                <div class="footer-widget-body">
                                    <ul class="location-wrap">
                                        <li>
                                            <h6 class="title">location:</h6>
                                            <p>110-114 W George St, City Centre,<br>Glasgow G2 1NF, USA</p>
                                        </li>
                                        <li>
                                            <h6 class="title">call us now:</h6>
                                            <p>+01-23456789<br>+01-23456789</p>
                                        </li>
                                        <li>
                                            <h6 class="title">email:</h6>
                                            <p><a href="#">info@yourdomain.com</a><br><a
                                                    href="#">support@yourdomain.com</a>
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <div class="footer-widget-title">
                                    <h4>new arrivals</h4>
                                </div>
                                <div class="footer-widget-body">
                                    <ul class="category-list">
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(newArrivalList[0])">
                                                        <img v-bind:src="newArrivalList[0].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(newArrivalList[0])">{{newArrivalList[0].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{newArrivalList[0].price}}</span>

                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(newArrivalList[1])">
                                                        <img v-bind:src="newArrivalList[1].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(newArrivalList[1])">{{newArrivalList[1].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{newArrivalList[1].price}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(newArrivalList[2])">
                                                        <img v-bind:src="newArrivalList[2].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(newArrivalList[2])">{{newArrivalList[2].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{newArrivalList[2].price}}</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>

                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <div class="footer-widget-title">
                                    <h4>top rated product</h4>
                                </div>
                                <div class="footer-widget-body">
                                    <ul class="category-list">
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(topRatedList[0])">
                                                        <img v-bind:src="topRatedList[0].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(topRatedList[0])">{{topRatedList[0].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{topRatedList[0].price}}</span>
                                                        <span class="old-price"><del></del></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(topRatedList[1])">
                                                        <img v-bind:src="topRatedList[1].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(topRatedList[1])">{{topRatedList[1].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{topRatedList[1].price}}</span>
                                                        <span class="old-price"><del></del></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="single-item single-item__footer-category">
                                                <div class="product-thumb">
                                                    <a href="#" @click="ShowProductDetail(topRatedList[2])">
                                                        <img v-bind:src="topRatedList[2].src" alt="">
                                                    </a>
                                                </div>
                                                <div class="product-description">
                                                    <div class="product-name">
                                                        <h4 class="h5">
                                                            <a href="#"
                                                                @click="ShowProductDetail(topRatedList[2])">{{topRatedList[2].name}}</a>
                                                        </h4>
                                                    </div>
                                                    <div class="price-box">
                                                        <span class="regular-price">${{topRatedList[2].price}}</span>
                                                        <span class="old-price"><del></del></span>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <div class="footer-widget">
                                <div class="footer-widget-title">
                                    <h4>newsletter</h4>
                                </div>
                                <div class="footer-widget-body">
                                    <div class="newsletter-desc">
                                        <p>Subscribe to the Kavir mailing list to receive updates on new arrivals,
                                            special
                                            offers and other discount information.</p>
                                        <form id="mc-form">
                                            <input type="email" id="mc-email" autocomplete="off"
                                                placeholder="Your email address">
                                            <button id="mc-submit"><i class="ion-paper-airplane"></i>subscribe</button>
                                        </form>
                                        <!-- mailchimp-alerts Start -->
                                        <div class="mailchimp-alerts">
                                            <div class="mailchimp-submitting"></div><!-- mailchimp-submitting end -->
                                            <div class="mailchimp-success"></div><!-- mailchimp-success end -->
                                            <div class="mailchimp-error"></div><!-- mailchimp-error end -->
                                        </div>
                                        <!-- mailchimp-alerts end -->
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer main area end -->

        <!-- footer bottom area start -->
        <div class="footer-bootom bg-gray pt-20 pb-20">
            <div class="container">
                <div class="row">
                    <div class="col-md-6">
                        <div class="copyright-text text-center text-md-left">
                            <p>Copyright 2019 <a href="http://www.17sucai.com/">Selena</a>. All Rights Reserved</p>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="payment-method text-md-right text-center">
                            <img src="assets/img/payment.png" alt="">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- footer bottom area end -->

    </footer>
    <!--== End Footer Area Wrapper ==-->

    <!-- Scroll to top start -->
    <div class="scroll-top not-visible">
        <i class="fa fa-angle-up"></i>
    </div>
    <!-- Scroll to Top End -->

    <!--=======================Javascript============================-->
    <!--=== All Vendor Js ===-->
    <script src="assets/js/vendor.js"></script>
    <!--=== All Plugins Js ===-->
    <script src="assets/js/plugins.js"></script>
    <!--=== Active Js ===-->
    <script src="assets/js/active.js"></script>

    <!--=== Axios JS ===-->
    <script src="assets/js/axios.js"></script>


    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

    <script>
        var one = new Vue({
            el: '#one',
            data: {
                keyword:'',
                page:1,
                goodsList: [
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 4,
                        name: 'goods4',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3504820500,3612643477&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    
                ]


            },
            created() {
                this.toPage()
            },
            methods: {
                toPage(){
                    let token = window.localStorage.getItem("token")
                    this.goodsList = []
                    for(let i = (this.page-1) * 9+1;i<this.page * 9+1;i++){
                        axios({
                        url: 'http://fanqin.vaiwan.com/shop/getInfoById',
                        method: 'post',
                        params: {
                            'goodsId': i
                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {
                            let k = {
                                id: response.data.list[0].goods.goodsId,
                                rate: parseFloat(response.data.list[0].goods.goodsRate),
                                name: response.data.list[0].goods.goodsName,
                                price: response.data.list[0].goods.goodsCurrentPrice,
                                src: response.data.list[0].goods.goodsImgUrl,
                                description: response.data.list[0].goods.goodsDescription,
                                stock: response.data.list[0].goods.goodsAmount,
                            }
                            this.goodsList.push(k)
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                    }
                },
                
                ShowQuickView(item) {

                    console.log("ShowQuickView")
                    console.log(item)
                    qv.quick_view_item = item
                    console.log(qv.quick_view_item)
                },
                ShowProductDetail(item) {
                    console.log("ShowProductDetail")
                    let id = item.id
                    let url = "product-details.html?goodsId=" + id;//此处拼接内容
                    window.location.href = url;
                },
                AddToWishList(item) {
                    console.log("AddToWishList")
                    let token = window.localStorage.getItem("token")
                    axios({
                        url: 'http://fanqin.vaiwan.com/shop/wish',
                        method: 'post',
                        params: {
                            'id': item.id
                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {

                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                AddToCart(item) {
                    console.log("AddToCart")
                    let token = window.localStorage.getItem("token")
                    axios({
                        url: 'http://fanqin.vaiwan.com/cart/addcart',
                        method: 'post',
                        params: {
                            'goodsId': item.id,
                            'count':1
                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {
                            hd.GetCart()
                            swal("添加成功")
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                AddToCompareList(item) {
                    console.log("AddToCompareList")
                    let list = window.sessionStorage.getItem("compareList")
                    if (list == null) {
                        let compareList = new Array()
                        compareList.push(item.id)
                        window.sessionStorage.setItem("compareList", compareList.toString())
                    } else if (!list.includes(item.id)) {

                        let compareList = list.split(",")
                        compareList.push(item.id)
                        window.sessionStorage.setItem("compareList", compareList.toString())
                    }
                    console.log(window.sessionStorage.getItem("compareList"))
                }
            }

        })
    </script>
    <script>

        let qv = new Vue({
            el: '#quick_view',
            data: {
                quick_view_item: {
                    id: 4,
                    rate: 3,
                    name: 'goods3',
                    price: '100.00',
                    src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                    description: '真不错',
                    stock: '2'

                },
                amount: '1',
                
            },
            created() {

            },
            methods: {
                ShowProductDetail(item) {
                    console.log("ShowProductDetail")
                    let id = item.id
                    let url = "product-details.html?goodsId=" + id;//此处拼接内容
                    window.location.href = url;
                },
                AddToWishList(item) {
                    console.log("AddToWishList")
                    let token = window.localStorage.getItem("token")
                    axios({
                        url: 'http://fanqin.vaiwan.com/shop/wish',
                        method: 'post',
                        params: {
                            'id': item.id
                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {

                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                AddToCart(item) {
                    console.log("AddToCart")
                    let token = window.localStorage.getItem("token")
                    axios({
                        url: 'http://fanqin.vaiwan.com/cart/addcart',
                        method: 'post',
                        params: {
                            'goodsId': item.id,
                            'count':1

                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {
                            hd.GetCart()
                            swal("添加成功")
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                }
                ,
                AddToCompareList(item) {
                    console.log("AddToCompareList")
                    let list = window.sessionStorage.getItem("compareList")
                    if (list == null) {
                        let compareList = new Array()
                        compareList.push(item.id)
                        window.sessionStorage.setItem("compareList", compareList.toString())
                    } else if (!list.includes(item.id)) {

                        let compareList = list.split(",")
                        compareList.push(item.id)
                        window.sessionStorage.setItem("compareList", compareList.toString())
                    }
                    console.log(window.sessionStorage.getItem("compareList"))
                }
            }

        })


    </script>
    <script type="module">
        import { newArrivals, topRated } from "./assets/js/index.js"
        new Vue({
            el: '#new_arrivals',
            data: {
                newArrivalList: [
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    }
                ],
                topRatedList: [
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    },
                    {
                        id: 4,
                        rate: 3,
                        name: 'goods1',
                        price: '100.00',
                        src: 'https://img0.baidu.com/it/u=3384913163,1256852657&fm=26&fmt=auto&gp=0.jpg',
                        description: '真不错',
                        stock: '2'
                    }
                ]
            },
            created() {
                this.NewArrivals()
                this.TopRated()
            },
            methods: {
                ShowProductDetail(item) {
                    console.log("ShowProductDetail")
                    let id = item.id
                    let url = "product-details.html?goodsId=" + id;//此处拼接内容
                    window.location.href = url;
                },
                NewArrivals() {
                    console.log("NewArrivals")
                    newArrivals()
                        .then((response) => {
                            this.newArrivalList = []
                            for (let i = 0; i < 3; i++) {
                                let l = {
                                    id: response.data.list[i].goodsId,
                                    rate: parseFloat(response.data.list[i].goodsRate),
                                    name: response.data.list[i].goodsName,
                                    price: response.data.list[i].goodsCurrentPrice,
                                    src: response.data.list[i].goodsImgUrl,
                                    description: response.data.list[i].goodsDescription,
                                    stock: response.data.list[i].goodsAmount
                                }
                                this.newArrivalList.push(l)
                            }
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                TopRated() {
                    console.log("TopRated")
                    topRated()
                        .then((response) => {
                            this.topRatedList = []
                            for (let i = 0; i < 3; i++) {
                                let l = {
                                    id: response.data.list[i].goodsId,
                                    rate: parseFloat(response.data.list[i].goodsRate),
                                    name: response.data.list[i].goodsName,
                                    price: response.data.list[i].goodsCurrentPrice,
                                    src: response.data.list[i].goodsImgUrl,
                                    description: response.data.list[i].goodsDescription,
                                    stock: response.data.list[i].goodsAmount
                                }
                                this.topRatedList.push(l)
                            }
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
            }

        })

    </script>
    <script>
        var hd = new Vue({
            el: '#hd',
            data: {
                cartList: [
                    {
                        id: 4,
                        name: '真好吃',
                        qty: 6,
                        price: '6',
                        src: 'https://img2.baidu.com/it/u=2854065357,1526765253&fm=26&fmt=auto&gp=0.jpg'
                    },
                    {
                        id: 4,
                        name: '真好吃',
                        qty: 6,
                        price: '6',
                        src: 'https://img2.baidu.com/it/u=2854065357,1526765253&fm=26&fmt=auto&gp=0.jpg'
                    }
                ],
                subtotal: 6,
                amount: 1
            },
            created() {
                this.GetCart()
            },

            methods: {
                GetCart() {
                    let token = window.localStorage.getItem("token")
                    console.log("GetCart")
                    axios({
                        url: 'http://fanqin.vaiwan.com/cart/cart',
                        method: 'post',

                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {
                            this.cartList = []
                            for (let i = 0; i < response.data.list.length; i++) {
                                let l = {
                                    id: response.data.list[i].id,
                                    name: response.data.list[i].name,
                                    qty: parseInt(response.data.list[i].count),
                                    price: response.data.list[i].currentPrice,
                                    src: response.data.list[i].imgUrl
                                }
                                this.cartList.push(l)
                            }

                            this.subtotal = 0
                            this.amount = 0
                            for (let i = 0; i < this.cartList.length; i++) {
                                this.subtotal += Math.floor(parseFloat(this.cartList[i].price) * this.cartList[i].qty*100) / 100
                                this.amount += parseInt(this.cartList[i].amount)
                            }
                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
                ShowProductDetail(item) {
                    console.log("ShowProductDetail")
                    let id = item.id
                    let url = "product-details.html?goodsId=" + id;//此处拼接内容
                    window.location.href = url;
                }
            }

        })
    </script>
    <script>

        new Vue({
            el: '#hsb',
            data: {
                keyword:""
                
            },
            created() {

            },
            methods: {
                Search(){
                    console.log("Search")
                    let token = window.localStorage.getItem("token")
                    axios({
                        url: 'http://fanqin.vaiwan.com/search/searchInfoByKeyWord',
                        method: 'post',
                        params: {
                            'keyWord': String(this.keyword),
                            'pageNo':1,
                            'pageSize':12

                        },
                        headers: {
                            'token': token
                        }
                    })
                        .then((response) => {
                            one.goodsList=[]
                            for(let i = 0 ; i< response.data.list.length;i++){
                                let l = {
                                    id: response.data.list[i].id,
                                    rate: parseFloat(response.data.list[i].rate),
                                    name: response.data.list[i].name,
                                    price: response.data.list[i].currentPrice,
                                    src: response.data.list[i].imgUrl,
                                    description: response.data.list[i].description,
                                    stock: response.data.list[i].amount
                                }
                                one.goodsList.push(l)
                            }

                        })
                        .catch((error) => {
                            console.log(error);
                        });
                },
            }

        })


    </script>

</body>

</html>